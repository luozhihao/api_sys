webpackJsonp([2],{47:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),a=r(o),s=n(3),l=n(4),d=r(l),i=n(5),c={addModal:!1,packName:"",projectName:"",type:"",version:"",remark:""},p=(0,a["default"])({},c);e["default"]={data:function(){return c},methods:{saveFn:function(){var t=this;this.$http({url:"/package_add/",method:"POST",data:{name:this.packName,type:this.type,project:this.projectName,version:this.version,remark:this.remark}}).then(function(e){e.data.result?(t.addModal=!1,t.$data=(0,a["default"])(c,p),t.$dispatch("refresh"),t.$dispatch("show-success")):t.$dispatch("show-error")})}},components:{modal:s.modal,vSelect:d["default"]},vuex:{getters:{appTypes:i.appTypes}},events:{showAdd:function(){this.addModal=!0}}}},48:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),a=r(o),s=n(210),l=r(s),d=n(214),i=r(d),c=n(215),p=r(c),v=n(212),u=r(v),b=n(213),h=r(b),f=n(41),m=r(f),_=n(28),y=r(_),g=n(27),x=r(g),A=n(13),k=n(5),w={pageLen:5,lenArr:[10,50,100],url:"/package_config/",param:{project:"",name:"",type:""},tableList:[]};e["default"]={data:function(){return w},methods:{refresh:function(){this.$broadcast("refresh")},showViewEnv:function(t){var e={id:t,url:"/package_env_view/"};this.$broadcast("showViewEnv",e)}},components:{vSelect:a["default"],addModal:l["default"],copyModal:u["default"],deleteModal:y["default"],bootPage:x["default"],ModifyModal:i["default"],UploadModal:p["default"],editEnvModal:h["default"],viewEnvModal:m["default"]},vuex:{getters:{appTypes:k.appTypes},actions:{getAppTypes:A.getAppTypes}},ready:function(){this.getAppTypes()},events:{data:function(t){this.tableList=t.data},refresh:function(){this.refresh()},confirm:function(t){var e=this;this.$http({url:"/package_delete/",method:"POST",data:{id:t}}).then(function(t){t.data.result?(e.refresh(),e.$dispatch("show-success","删除成功")):e.$dispatch("show-error","删除失败")})}},watch:{"param.project":function(t){this.refresh()},"param.name":function(t){this.refresh()},"param.type":function(t){this.refresh()}}}},49:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(4),s=r(a),l={copyModal:!1,settings:[],setting:""};e["default"]={data:function(){return l},methods:{okFn:function(){var t=this;this.$http({url:"/package_copy/",method:"POST",data:{id:this.setting}}).then(function(e){e.data.result?(t.setting="",t.copyModal=!1,t.$dispatch("refresh"),t.$dispatch("show-success")):t.$dispatch("show-error")})}},components:{modal:o.modal,vSelect:s["default"]},events:{showCopy:function(){var t=this;this.copyModal=!0,this.$http({url:"/package_copy/",method:"GET"}).then(function(e){t.settings=e.data.packages})}}}},50:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),a=r(o),s=n(3),l={editEnvModal:!1,env:"",envArr:[],envValue:[],rules:[],envId:null};e["default"]={data:function(){return l},methods:{saveFn:function(){var t=this;this.env&&this.$http({url:"/package_rules/",method:"POST",data:{package_id:this.envId,rules:this.envValue,env_id:this.env}}).then(function(e){e.data.result&&t.$dispatch("show-success")})}},components:{modal:s.modal,vSelect:a["default"],checkboxGroup:s.checkboxGroup,checkbox:s.checkboxBtn},events:{showEditEnv:function(t){var e=this;this.editEnvModal=!0,this.envId=t,this.env="",this.rules=[],this.envValue=[],this.$http({url:"/package_envs/",method:"GET"}).then(function(t){e.envArr=t.data.envs})}},watch:{env:function(t){var e=this;this.$http({url:"/package_rules/?env_id="+t+"&package_id="+this.envId,method:"GET"}).then(function(t){e.envValue=t.data.rules,e.rules=t.data.rule_list})}}}},51:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),a=r(o),s=n(3),l=n(4),d=r(l),i=n(5),c={modifyModal:!1,packName:"",projectName:"",type:"",version:"",remark:"",id:null},p=(0,a["default"])({},c);e["default"]={data:function(){return c},methods:{saveFn:function(){var t=this;this.$http({url:"/package_edit/",method:"POST",data:{id:this.id,name:this.packName,type:this.type,project:this.projectName,version:this.version,remark:this.remark}}).then(function(e){e.data.result?(t.addModal=!1,t.$data=(0,a["default"])(c,p),t.$dispatch("refresh"),t.$dispatch("show-success")):t.$dispatch("show-error")})}},components:{modal:s.modal,vSelect:d["default"]},vuex:{getters:{appTypes:i.appTypes}},events:{showModify:function(t){var e=this;this.modifyModal=!0,this.$http({url:"/package_edit/?id="+t,method:"GET"}).then(function(n){var r=n.data;e.packName=r.name,e.projectName=r.project,e.type=r.type,e.version=r.version,e.remark=r.remark,e.id=t})}}}},52:function(t,e,n){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e["default"]={data:function(){return{uploadModal:!1,idNum:null,road:"",user:"",filename:"",time:"",hash:""}},methods:{findFile:function(){t("#file").trigger("click")},changeFn:function(){this.road=t("#file").val()},uploadFile:function(){var e=this;""!==this.road&&!function(){var n=e,r=new FormData(t("#file_form")[0]);r.append("id",n.idNum),t.ajax({url:"/package_file_upload/",type:"POST",processData:!1,contentType:!1,dataType:"JSON",data:r}).then(function(t){1===t.result?(n.road="",n.getList(),n.$dispatch("show-success")):n.$dispatch("show-error")})}()},getList:function(){var t=this;this.$http({url:"/package_file_view/",method:"POST",data:{id:this.idNum}}).then(function(e){1===e.data.result?(t.user=e.data.user,t.filename=e.data.file_name,t.time=e.data.upload_time,t.hash=e.data.hash):-1===e.data.result?(t.user="",t.filename="",t.time="",t.hash=""):t.$dispatch("show-error")})}},components:{modal:r.modal},events:{showUpload:function(t){this.idNum=t,this.uploadModal=!0,this.getList()}}}}).call(e,n(19))},121:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".add-menu[_v-0e4cb05b]{height:34px;line-height:34px;padding:0;color:#009688;cursor:pointer}","",{version:3,sources:["/./src/components/deploy_manage/app_board/Modify.vue.style"],names:[],mappings:"AAiIA,uBACA,YAAA,AACA,iBAAA,AACA,UAAA,AACA,cAAA,AACA,cAAA,CACA",file:"Modify.vue",sourcesContent:['<template>\r\n    <modal :show.sync="modifyModal" effect="fade" width="450px">\r\n        <div slot="modal-header" class="modal-header">\r\n            <h4 class="modal-title">修改</h4>\r\n        </div>\r\n        <div slot="modal-body" class="modal-body">\r\n            <form class="form-horizontal">\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-3">部署包名：<span class="text-danger">*</span></label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="packName">\r\n                    </div>\r\n                </div>\r\n                <div class="form-group input-box">\r\n                    <label class="control-label col-sm-3">类型：<span class="text-danger">*</span></label>\r\n                    <div class="col-sm-8">\r\n                        <v-select :value.sync="type" :options="appTypes" placeholder="请选择">\r\n                        </v-select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-3">项目名：</label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="projectName">\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-3">版本号：</label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="version">\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-3">备注：</label>\r\n                    <div class="col-sm-8">\r\n                        <textarea class="form-control" rows="5" v-model="remark"></textarea>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div slot="modal-footer" class="modal-footer">\r\n            <button type="button" class="btn btn-default" @click="saveFn" :disabled="packName && type ? false : true">保存</button>\r\n            <button type="button" class="btn btn-default" @click=\'modifyModal = false\'>取消</button>\r\n        </div>\r\n    </modal>\r\n</template>\r\n\r\n<script>\r\nimport { modal } from \'vue-strap\'\r\nimport vSelect from \'../../global/Select.vue\'\r\nimport { appTypes } from \'../../../vuex/getters.js\'\r\n\r\nlet origin = {\r\n        modifyModal: false,\r\n        packName: \'\',\r\n        projectName: \'\',\r\n        type: \'\',\r\n        version: \'\',\r\n        remark: \'\',\r\n        id: null\r\n    },\r\n    init = Object.assign({}, origin);\r\n\r\nexport default {\r\n    data () {\r\n        return origin\r\n    },\r\n    methods: {\r\n\r\n        // 保存事件\r\n        saveFn () {\r\n            this.$http({\r\n                url: \'/package_edit/\',\r\n                method: \'POST\',\r\n                data: {\r\n                    id: this.id,\r\n                    name: this.packName,\r\n                    type: this.type,\r\n                    project: this.projectName,\r\n                    version: this.version,\r\n                    remark: this.remark\r\n                }\r\n            })\r\n            .then(response => {\r\n                if (response.data.result) {\r\n                    this.addModal = false\r\n                    this.$data = Object.assign(origin, init)\r\n\r\n                    this.$dispatch(\'refresh\')\r\n                    this.$dispatch(\'show-success\')\r\n                } else {\r\n                    this.$dispatch(\'show-error\')\r\n                }\r\n            })\r\n        }\r\n    },\r\n    components: {\r\n        modal,\r\n        vSelect\r\n    },\r\n    vuex: {\r\n        getters: {\r\n            appTypes\r\n        }\r\n    },\r\n    events: {\r\n        \'showModify\' (param) {\r\n            this.modifyModal = true\r\n\r\n            this.$http({\r\n                url: \'/package_edit/?id=\' + param,\r\n                method: \'GET\'\r\n            })\r\n            .then(response => {\r\n                let dict = response.data\r\n\r\n                this.packName = dict.name\r\n                this.projectName = dict.project\r\n                this.type = dict.type\r\n                this.version = dict.version\r\n                this.remark = dict.remark\r\n                this.id = param\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.add-menu {\r\n    height: 34px;\r\n    line-height: 34px;\r\n    padding: 0;\r\n    color: #009688;\r\n    cursor: pointer;\r\n}\r\n</style>'],sourceRoot:"webpack://"}])},122:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".env-from[_v-1061f6b2]{min-height:400px}","",{version:3,sources:["/./src/components/deploy_manage/app_board/EditEnv.vue.style"],names:[],mappings:"AAwGA,uBACA,gBAAA,CACA",file:"EditEnv.vue",sourcesContent:['<template>\r\n    <modal :show.sync="editEnvModal" effect="fade" width="450px">\r\n        <div slot="modal-header" class="modal-header">\r\n            <h4 class="modal-title">运行环境配置</h4>\r\n        </div>\r\n        <div slot="modal-body" class="modal-body">\r\n            <form class="form-horizontal env-from">\r\n                <div class="form-group text-center">\r\n                    <v-select :value.sync="env" :options="envArr" placeholder="请选择" :search="true">\r\n                    </v-select>\r\n                </div>\r\n                <div class="form-group text-center env-rule" v-if="env !== \'\'">\r\n                    <checkbox-group :value.sync="envValue">\r\n                        <checkbox :value="rule.value" v-for="rule in rules">{{ rule.label }}</checkbox>\r\n                    </checkbox-group>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div slot="modal-footer" class="modal-footer">\r\n            <button type="button" class="btn btn-default" :disabled="env ? false : true" @click="saveFn">保存</button>\r\n            <button type="button" class="btn btn-default" @click=\'editEnvModal = false\'>取消</button>\r\n        </div>\r\n    </modal>\r\n</template>\r\n\r\n<script>\r\nimport vSelect from \'../../global/Select.vue\'\r\nimport { modal, checkboxGroup, checkboxBtn } from \'vue-strap\'\r\n\r\nlet origin = {\r\n        editEnvModal: false,\r\n        env: \'\',\r\n        envArr: [],\r\n        envValue: [],\r\n        rules: [],\r\n        envId: null\r\n    };\r\n\r\nexport default {\r\n    data () {\r\n        return origin\r\n    },\r\n    methods: {\r\n\r\n        // 保存环境\r\n        saveFn () {\r\n            if (this.env) {\r\n                this.$http({\r\n                    url: \'/package_rules/\',\r\n                    method: \'POST\',\r\n                    data: {\r\n                        package_id: this.envId,\r\n                        rules: this.envValue,\r\n                        env_id: this.env\r\n                    }   \r\n                })\r\n                .then(response => {\r\n                    if (response.data.result) {\r\n                        this.$dispatch(\'show-success\')\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        modal,\r\n        vSelect,\r\n        checkboxGroup,\r\n        checkbox: checkboxBtn\r\n    },\r\n    events: {\r\n        \'showEditEnv\' (param) {\r\n            this.editEnvModal = true\r\n            this.envId = param\r\n\r\n            this.env = \'\'\r\n            this.rules = []\r\n            this.envValue = []\r\n\r\n            this.$http({\r\n                url: \'/package_envs/\',\r\n                method: \'GET\'\r\n            })\r\n            .then(response => {\r\n                this.envArr = response.data.envs\r\n            })\r\n        }\r\n    },\r\n    watch: {\r\n        \'env\' (newVal) {\r\n            this.$http({\r\n                url: \'/package_rules/?env_id=\' + newVal + \'&package_id=\' + this.envId,\r\n                method: \'GET\'\r\n            })\r\n            .then(response => {\r\n                this.envValue = response.data.rules\r\n                this.rules = response.data.rule_list\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.env-from {\r\n    min-height: 400px;\r\n}\r\n</style>'],sourceRoot:"webpack://"}])},125:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".add-menu[_v-2676e550]{height:34px;line-height:34px;padding:0;color:#009688;cursor:pointer}","",{version:3,sources:["/./src/components/deploy_manage/app_board/Add.vue.style"],names:[],mappings:"AAgHA,uBACA,YAAA,AACA,iBAAA,AACA,UAAA,AACA,cAAA,AACA,cAAA,CACA",file:"Add.vue",sourcesContent:['<template>\r\n    <modal :show.sync="addModal" effect="fade" width="450px">\r\n        <div slot="modal-header" class="modal-header">\r\n            <h4 class="modal-title">添加</h4>\r\n        </div>\r\n        <div slot="modal-body" class="modal-body">\r\n            <form class="form-horizontal">\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-3">部署包名：<span class="text-danger">*</span></label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="packName">\r\n                    </div>\r\n                </div>\r\n                <div class="form-group input-box">\r\n                    <label class="control-label col-sm-3">类型：<span class="text-danger">*</span></label>\r\n                    <div class="col-sm-8">\r\n                        <v-select :value.sync="type" :options="appTypes" placeholder="请选择">\r\n                        </v-select>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-3">项目名：</label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="projectName">\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-3">版本号：</label>\r\n                    <div class="col-sm-8">\r\n                        <input type="text" class="form-control" v-model="version">\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label col-sm-3">备注：</label>\r\n                    <div class="col-sm-8">\r\n                        <textarea class="form-control" rows="5" v-model="remark"></textarea>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div slot="modal-footer" class="modal-footer">\r\n            <button type="button" class="btn btn-default" @click="saveFn" :disabled="packName && type ? false : true">保存</button>\r\n            <button type="button" class="btn btn-default" @click=\'addModal = false\'>取消</button>\r\n        </div>\r\n    </modal>\r\n</template>\r\n\r\n<script>\r\nimport { modal } from \'vue-strap\'\r\nimport vSelect from \'../../global/Select.vue\'\r\nimport { appTypes } from \'../../../vuex/getters.js\'\r\n\r\nlet origin = {\r\n        addModal: false,\r\n        packName: \'\',\r\n        projectName: \'\',\r\n        type: \'\',\r\n        version: \'\',\r\n        remark: \'\'\r\n    },\r\n    init = Object.assign({}, origin);\r\n\r\nexport default {\r\n    data () {\r\n        return origin\r\n    },\r\n    methods: {\r\n\r\n        // 保存事件\r\n        saveFn () {\r\n            this.$http({\r\n                url: \'/package_add/\',\r\n                method: \'POST\',\r\n                data: {\r\n                    name: this.packName,\r\n                    type: this.type,\r\n                    project: this.projectName,\r\n                    version: this.version,\r\n                    remark: this.remark\r\n                }\r\n            })\r\n            .then(response => {\r\n                if (response.data.result) {\r\n                    this.addModal = false\r\n                    this.$data = Object.assign(origin, init)\r\n\r\n                    this.$dispatch(\'refresh\')\r\n                    this.$dispatch(\'show-success\')\r\n                } else {\r\n                    this.$dispatch(\'show-error\')\r\n                }\r\n            })\r\n        }\r\n    },\r\n    components: {\r\n        modal,\r\n        vSelect\r\n    },\r\n    vuex: {\r\n        getters: {\r\n            appTypes\r\n        }\r\n    },\r\n    events: {\r\n        \'showAdd\' () {\r\n            this.addModal = true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.add-menu {\r\n    height: 34px;\r\n    line-height: 34px;\r\n    padding: 0;\r\n    color: #009688;\r\n    cursor: pointer;\r\n}\r\n</style>'],sourceRoot:"webpack://"}])},127:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"AppBoard.vue",sourceRoot:"webpack://"}])},133:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".add-menu[_v-52f20054]{height:34px;line-height:34px;padding:0;color:#009688;cursor:pointer}.copy-body[_v-52f20054]{min-height:200px}.copy-body .dropdown-menu[_v-52f20054]{max-height:160px;overflow-y:auto}","",{version:3,sources:["/./src/components/deploy_manage/app_board/Copy.vue.style"],names:[],mappings:"AA6EA,uBACA,YAAA,AACA,iBAAA,AACA,UAAA,AACA,cAAA,AACA,cAAA,CACA,AAEA,wBACA,gBAAA,CACA,AAEA,uCACA,iBAAA,AACA,eAAA,CACA",file:"Copy.vue",sourcesContent:['<template>\r\n    <modal :show.sync="copyModal" effect="fade" width="450px">\r\n        <div slot="modal-header" class="modal-header">\r\n            <h4 class="modal-title">复制</h4>\r\n        </div>\r\n        <div slot="modal-body" class="modal-body copy-body text-center">\r\n            从\r\n            <v-select :value.sync="setting" :options="settings" :search="true" placeholder="请选择">\r\n            </v-select>\r\n            上复制生成新的应用配置?\r\n        </div>\r\n        <div slot="modal-footer" class="modal-footer">\r\n            <button type="button" class="btn btn-default" :disabled="setting ? false : true" @click="okFn">确定</button>\r\n            <button type="button" class="btn btn-default" @click=\'copyModal = false\'>取消</button>\r\n        </div>\r\n    </modal>\r\n</template>\r\n\r\n<script>\r\nimport { modal } from \'vue-strap\'\r\nimport vSelect from \'../../global/Select.vue\'\r\n\r\nlet origin = {\r\n        copyModal: false,\r\n        settings: [],\r\n        setting: \'\'\r\n    }\r\n\r\nexport default {\r\n    data () {\r\n        return origin\r\n    },\r\n    methods: {\r\n\r\n        // 确认复制\r\n        okFn () {\r\n            this.$http({\r\n                url: \'/package_copy/\',\r\n                method: \'POST\',\r\n                data: {\r\n                    id: this.setting\r\n                }\r\n            })\r\n            .then(response => {\r\n                if (response.data.result) {\r\n                    this.setting = \'\'\r\n                    this.copyModal = false\r\n\r\n                    this.$dispatch(\'refresh\')\r\n                    this.$dispatch(\'show-success\')\r\n                } else {\r\n                    this.$dispatch(\'show-error\')\r\n                }\r\n            })\r\n        }\r\n    },\r\n    components: {\r\n        modal,\r\n        vSelect\r\n    },\r\n    events: {\r\n        \'showCopy\' () {\r\n            this.copyModal = true\r\n\r\n            this.$http({\r\n                url: \'/package_copy/\',\r\n                method: \'GET\'\r\n            })\r\n            .then(response => {\r\n                this.settings = response.data.packages\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.add-menu {\r\n    height: 34px;\r\n    line-height: 34px;\r\n    padding: 0;\r\n    color: #009688;\r\n    cursor: pointer;\r\n}\r\n\r\n.copy-body {\r\n    min-height: 200px;\r\n}\r\n\r\n.copy-body .dropdown-menu {\r\n    max-height: 160px;\r\n    overflow-y: auto;\r\n}\r\n</style>'],sourceRoot:"webpack://"}])},142:function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".upload-input[_v-90c96bbc]{width:285px}.file-table[_v-90c96bbc]{margin-top:35px}","",{version:3,sources:["/./src/components/deploy_manage/app_board/Upload.vue.style"],names:[],mappings:"AA6IA,2BACA,WAAA,CACA,AAEA,yBACA,eAAA,CACA",file:"Upload.vue",sourcesContent:['<template>\r\n    <modal :show.sync="uploadModal" effect="fade" width="550px">\r\n        <div slot="modal-header" class="modal-header">\r\n            <h4 class="modal-title">上传</h4>\r\n        </div>\r\n        <div slot="modal-body" class="modal-body">\r\n            <form id="file_form" class="form-inline text-center">\r\n                <label>选择文件：</label>\r\n                <input type="text" class="form-control upload-input" onfocus="this.blur()" v-model="road">\r\n                <input id="file" type="file" name="file" v-show="false" @change="changeFn">\r\n                <button type="button" class="btn btn-default" @click="findFile">浏览</button>\r\n                <button type="button" class="btn btn-default" @click="uploadFile">上传</button>\r\n            </form>\r\n            <table class="table table-bordered file-table">\r\n                <thead>\r\n                    <tr>\r\n                        <th>上传人</th>\r\n                        <th>文件名</th>\r\n                        <th>上传时间</th>\r\n                        <th>hash值</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-show="hash !== \'\'">\r\n                        <td v-text="user" :title="user"></td>\r\n                        <td v-text="filename" :title="filename"></td>\r\n                        <td v-text="time" :title="time"></td>\r\n                        <td v-text="hash" :title="hash"></td>\r\n                    </tr>\r\n                    <tr class="text-center" v-show="hash === \'\'">\r\n                        <td colspan="4">暂无数据</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div slot="modal-footer" class="modal-footer">\r\n            <button type="button" class="btn btn-default" @click=\'uploadModal = false\'>取消</button>\r\n        </div>\r\n    </modal>\r\n</template>\r\n\r\n<script>\r\nimport { modal } from \'vue-strap\'\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            uploadModal: false,\r\n            idNum: null,\r\n            road: \'\',\r\n            user: \'\',\r\n            filename: \'\',\r\n            time: \'\',\r\n            hash: \'\'\r\n        }\r\n    },\r\n    methods: {\r\n\r\n        // 浏览文件\r\n        findFile () {\r\n            $(\'#file\').trigger(\'click\')\r\n        },\r\n\r\n        // 路径捕获\r\n        changeFn () {\r\n            this.road = $(\'#file\').val()\r\n        },\r\n\r\n        // 上传文件\r\n        uploadFile () {\r\n\r\n            if (this.road !== \'\') {\r\n                let _this = this,\r\n                    formData = new FormData($(\'#file_form\')[0])\r\n\r\n                formData.append(\'id\', _this.idNum)\r\n\r\n                $.ajax({\r\n                        url: \'/package_file_upload/\',\r\n                        type: \'POST\',\r\n                        processData: false,\r\n                        contentType: false,\r\n                        dataType: \'JSON\',\r\n                        data: formData\r\n                    })\r\n                    .then(function (data) {\r\n                        if (data.result === 1) {\r\n                            _this.road = \'\'\r\n\r\n                            _this.getList()\r\n\r\n                            _this.$dispatch(\'show-success\')\r\n                        } else {\r\n                            _this.$dispatch(\'show-error\')\r\n                        }\r\n                    })\r\n            }    \r\n        },\r\n\r\n        // 获取上传记录\r\n        getList () {\r\n            this.$http({\r\n                url: \'/package_file_view/\',\r\n                method: \'POST\',\r\n                data: {\r\n                    id: this.idNum\r\n                }\r\n            })\r\n            .then((response) => {\r\n                if (response.data.result === 1) {\r\n                    this.user = response.data.user\r\n                    this.filename = response.data.file_name\r\n                    this.time = response.data.upload_time\r\n                    this.hash = response.data.hash\r\n                } else if (response.data.result === -1) {\r\n                    this.user = \'\'\r\n                    this.filename = \'\'\r\n                    this.time = \'\'\r\n                    this.hash = \'\'\r\n                } else {\r\n                    this.$dispatch(\'show-error\')\r\n                }\r\n            })\r\n        }\r\n    },\r\n    components: {\r\n        modal\r\n    },\r\n    events: {\r\n        \'showUpload\' (param) {\r\n            this.idNum = param\r\n\r\n            this.uploadModal = true\r\n\r\n            this.getList()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.upload-input {\r\n    width: 285px;\r\n}\r\n\r\n.file-table {\r\n    margin-top: 35px;\r\n}\r\n</style>'],sourceRoot:"webpack://"}])},153:function(t,e,n){var r=n(121);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},154:function(t,e,n){var r=n(122);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},157:function(t,e,n){var r=n(125);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},159:function(t,e,n){var r=n(127);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},165:function(t,e,n){var r=n(133);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},174:function(t,e,n){var r=n(142);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},190:function(t,e){t.exports='<modal :show.sync=modifyModal effect=fade width=450px _v-0e4cb05b=""> <div slot=modal-header class=modal-header _v-0e4cb05b=""> <h4 class=modal-title _v-0e4cb05b="">修改</h4> </div> <div slot=modal-body class=modal-body _v-0e4cb05b=""> <form class=form-horizontal _v-0e4cb05b=""> <div class=form-group _v-0e4cb05b=""> <label class="control-label col-sm-3" _v-0e4cb05b="">部署包名：<span class=text-danger _v-0e4cb05b="">*</span></label> <div class=col-sm-8 _v-0e4cb05b=""> <input type=text class=form-control v-model=packName _v-0e4cb05b=""> </div> </div> <div class="form-group input-box" _v-0e4cb05b=""> <label class="control-label col-sm-3" _v-0e4cb05b="">类型：<span class=text-danger _v-0e4cb05b="">*</span></label> <div class=col-sm-8 _v-0e4cb05b=""> <v-select :value.sync=type :options=appTypes placeholder=请选择 _v-0e4cb05b=""> </v-select> </div> </div> <div class=form-group _v-0e4cb05b=""> <label class="control-label col-sm-3" _v-0e4cb05b="">项目名：</label> <div class=col-sm-8 _v-0e4cb05b=""> <input type=text class=form-control v-model=projectName _v-0e4cb05b=""> </div> </div> <div class=form-group _v-0e4cb05b=""> <label class="control-label col-sm-3" _v-0e4cb05b="">版本号：</label> <div class=col-sm-8 _v-0e4cb05b=""> <input type=text class=form-control v-model=version _v-0e4cb05b=""> </div> </div> <div class=form-group _v-0e4cb05b=""> <label class="control-label col-sm-3" _v-0e4cb05b="">备注：</label> <div class=col-sm-8 _v-0e4cb05b=""> <textarea class=form-control rows=5 v-model=remark _v-0e4cb05b=""></textarea> </div> </div> </form> </div> <div slot=modal-footer class=modal-footer _v-0e4cb05b=""> <button type=button class="btn btn-default" @click=saveFn :disabled="packName &amp;&amp; type ? false : true" _v-0e4cb05b="">保存</button> <button type=button class="btn btn-default" @click="modifyModal = false" _v-0e4cb05b="">取消</button> </div> </modal>'},191:function(t,e){t.exports='<modal :show.sync=editEnvModal effect=fade width=450px _v-1061f6b2=""> <div slot=modal-header class=modal-header _v-1061f6b2=""> <h4 class=modal-title _v-1061f6b2="">运行环境配置</h4> </div> <div slot=modal-body class=modal-body _v-1061f6b2=""> <form class="form-horizontal env-from" _v-1061f6b2=""> <div class="form-group text-center" _v-1061f6b2=""> <v-select :value.sync=env :options=envArr placeholder=请选择 :search=true _v-1061f6b2=""> </v-select> </div> <div class="form-group text-center env-rule" v-if="env !== \'\'" _v-1061f6b2=""> <checkbox-group :value.sync=envValue _v-1061f6b2=""> <checkbox :value=rule.value v-for="rule in rules" _v-1061f6b2="">{{ rule.label }}</checkbox> </checkbox-group> </div> </form> </div> <div slot=modal-footer class=modal-footer _v-1061f6b2=""> <button type=button class="btn btn-default" :disabled="env ? false : true" @click=saveFn _v-1061f6b2="">保存</button> <button type=button class="btn btn-default" @click="editEnvModal = false" _v-1061f6b2="">取消</button> </div> </modal>'},193:function(t,e){t.exports='<modal :show.sync=addModal effect=fade width=450px _v-2676e550=""> <div slot=modal-header class=modal-header _v-2676e550=""> <h4 class=modal-title _v-2676e550="">添加</h4> </div> <div slot=modal-body class=modal-body _v-2676e550=""> <form class=form-horizontal _v-2676e550=""> <div class=form-group _v-2676e550=""> <label class="control-label col-sm-3" _v-2676e550="">部署包名：<span class=text-danger _v-2676e550="">*</span></label> <div class=col-sm-8 _v-2676e550=""> <input type=text class=form-control v-model=packName _v-2676e550=""> </div> </div> <div class="form-group input-box" _v-2676e550=""> <label class="control-label col-sm-3" _v-2676e550="">类型：<span class=text-danger _v-2676e550="">*</span></label> <div class=col-sm-8 _v-2676e550=""> <v-select :value.sync=type :options=appTypes placeholder=请选择 _v-2676e550=""> </v-select> </div> </div> <div class=form-group _v-2676e550=""> <label class="control-label col-sm-3" _v-2676e550="">项目名：</label> <div class=col-sm-8 _v-2676e550=""> <input type=text class=form-control v-model=projectName _v-2676e550=""> </div> </div> <div class=form-group _v-2676e550=""> <label class="control-label col-sm-3" _v-2676e550="">版本号：</label> <div class=col-sm-8 _v-2676e550=""> <input type=text class=form-control v-model=version _v-2676e550=""> </div> </div> <div class=form-group _v-2676e550=""> <label class="control-label col-sm-3" _v-2676e550="">备注：</label> <div class=col-sm-8 _v-2676e550=""> <textarea class=form-control rows=5 v-model=remark _v-2676e550=""></textarea> </div> </div> </form> </div> <div slot=modal-footer class=modal-footer _v-2676e550=""> <button type=button class="btn btn-default" @click=saveFn :disabled="packName &amp;&amp; type ? false : true" _v-2676e550="">保存</button> <button type=button class="btn btn-default" @click="addModal = false" _v-2676e550="">取消</button> </div> </modal>';
},195:function(t,e){t.exports='<div _v-308f65b4=""> <form class=form-inline _v-308f65b4=""> <div class=form-group _v-308f65b4=""> <label _v-308f65b4="">部署包名称：</label> <input type=text class=form-control v-model=param.name _v-308f65b4=""> </div> <div class=form-group _v-308f65b4=""> <label _v-308f65b4="">项目名称：</label> <input type=text class=form-control v-model=param.project _v-308f65b4=""> </div> <div class=form-group _v-308f65b4=""> <label _v-308f65b4="">项目类型：</label> <v-select :value.sync=param.type :options=appTypes placeholder=请选择 _v-308f65b4=""> </v-select> </div> <div class="mt30 table-btn" _v-308f65b4=""> <button type=button class="btn btn-default btn-pd" @click="$broadcast(\'showAdd\')" _v-308f65b4=""> <span class="glyphicon glyphicon-plus" _v-308f65b4=""></span> 添加 </button> <button type=button class="btn btn-default btn-pd" @click="$broadcast(\'showCopy\')" _v-308f65b4=""> <span class="glyphicon glyphicon-duplicate" _v-308f65b4=""></span> 配置复制 </button> </div> <table class="table table-hover table-bordered table-bg" _v-308f65b4=""> <thead _v-308f65b4=""> <tr _v-308f65b4=""> <th _v-308f65b4="">部署包名称</th> <th _v-308f65b4="">项目名称</th> <th _v-308f65b4="">项目类型</th> <th _v-308f65b4="">版本</th> <th _v-308f65b4="">运行环境</th> <th _v-308f65b4="">备注</th> <th _v-308f65b4="">操作</th> </tr> </thead> <tbody _v-308f65b4=""> <tr v-for="list in tableList" _v-308f65b4=""> <td v-text=list.name :title=list.name _v-308f65b4=""></td> <td v-text=list.project _v-308f65b4=""></td> <td v-text=list.type _v-308f65b4=""></td> <td v-text=list.version _v-308f65b4=""></td> <td _v-308f65b4=""> <button type=button class="btn btn-default btn-small" @click="$broadcast(\'showEditEnv\', list.id)" _v-308f65b4=""> <span class="table-icon glyphicon glyphicon-pencil" _v-308f65b4=""></span> 编辑 </button> <button type=button class="btn btn-default btn-small" @click=showViewEnv(list.id) _v-308f65b4=""> <span class="table-icon glyphicon glyphicon-eye-open" _v-308f65b4=""></span> 查看 </button> </td> <td v-text=list.remark :title=list.remark _v-308f65b4=""></td> <td _v-308f65b4=""> <button type=button class="btn btn-default btn-small" @click="$broadcast(\'showModify\', list.id)" _v-308f65b4=""> <span class="table-icon glyphicon glyphicon-edit" _v-308f65b4=""></span> 修改 </button> <button type=button class="btn btn-default btn-small" @click="$broadcast(\'showUpload\', list.id)" _v-308f65b4=""> <span class="table-icon glyphicon glyphicon-open" _v-308f65b4=""></span> 上传 </button> <button type=button class="btn btn-default btn-small" @click="$broadcast(\'showConfirm\', list.id)" _v-308f65b4=""> <span class="table-icon glyphicon glyphicon-trash" _v-308f65b4=""></span> 删除 </button> </td> </tr> <tr v-if="tableList.length === 0" _v-308f65b4=""> <td class=text-center colspan=7 _v-308f65b4=""> 暂无数据 </td> </tr> </tbody> <tfoot _v-308f65b4=""> <tr _v-308f65b4=""> <td colspan=7 _v-308f65b4=""> <div class=pull-right _v-308f65b4=""> <boot-page :async=true :lens=lenArr :page-len=pageLen :url=url :param=param _v-308f65b4=""></boot-page> </div> </td> </tr> </tfoot> </table> </form> <add-modal _v-308f65b4=""></add-modal> <modify-modal _v-308f65b4=""></modify-modal> <upload-modal _v-308f65b4=""></upload-modal> <edit-env-modal _v-308f65b4=""></edit-env-modal> <view-env-modal _v-308f65b4=""></view-env-modal> <copy-modal _v-308f65b4=""></copy-modal> <delete-modal _v-308f65b4=""></delete-modal> </div>'},199:function(t,e){t.exports='<modal :show.sync=copyModal effect=fade width=450px _v-52f20054=""> <div slot=modal-header class=modal-header _v-52f20054=""> <h4 class=modal-title _v-52f20054="">复制</h4> </div> <div slot=modal-body class="modal-body copy-body text-center" _v-52f20054=""> 从 <v-select :value.sync=setting :options=settings :search=true placeholder=请选择 _v-52f20054=""> </v-select> 上复制生成新的应用配置? </div> <div slot=modal-footer class=modal-footer _v-52f20054=""> <button type=button class="btn btn-default" :disabled="setting ? false : true" @click=okFn _v-52f20054="">确定</button> <button type=button class="btn btn-default" @click="copyModal = false" _v-52f20054="">取消</button> </div> </modal>'},207:function(t,e){t.exports='<modal :show.sync=uploadModal effect=fade width=550px _v-90c96bbc=""> <div slot=modal-header class=modal-header _v-90c96bbc=""> <h4 class=modal-title _v-90c96bbc="">上传</h4> </div> <div slot=modal-body class=modal-body _v-90c96bbc=""> <form id=file_form class="form-inline text-center" _v-90c96bbc=""> <label _v-90c96bbc="">选择文件：</label> <input type=text class="form-control upload-input" onfocus=this.blur() v-model=road _v-90c96bbc=""> <input id=file type=file name=file v-show=false @change=changeFn _v-90c96bbc=""> <button type=button class="btn btn-default" @click=findFile _v-90c96bbc="">浏览</button> <button type=button class="btn btn-default" @click=uploadFile _v-90c96bbc="">上传</button> </form> <table class="table table-bordered file-table" _v-90c96bbc=""> <thead _v-90c96bbc=""> <tr _v-90c96bbc=""> <th _v-90c96bbc="">上传人</th> <th _v-90c96bbc="">文件名</th> <th _v-90c96bbc="">上传时间</th> <th _v-90c96bbc="">hash值</th> </tr> </thead> <tbody _v-90c96bbc=""> <tr v-show="hash !== \'\'" _v-90c96bbc=""> <td v-text=user :title=user _v-90c96bbc=""></td> <td v-text=filename :title=filename _v-90c96bbc=""></td> <td v-text=time :title=time _v-90c96bbc=""></td> <td v-text=hash :title=hash _v-90c96bbc=""></td> </tr> <tr class=text-center v-show="hash === \'\'" _v-90c96bbc=""> <td colspan=4 _v-90c96bbc="">暂无数据</td> </tr> </tbody> </table> </div> <div slot=modal-footer class=modal-footer _v-90c96bbc=""> <button type=button class="btn btn-default" @click="uploadModal = false" _v-90c96bbc="">取消</button> </div> </modal>'},210:function(t,e,n){var r,o;n(157),r=n(47),o=n(193),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options:t.exports).template=o)},211:function(t,e,n){var r,o;n(159),r=n(48),o=n(195),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options:t.exports).template=o)},212:function(t,e,n){var r,o;n(165),r=n(49),o=n(199),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options:t.exports).template=o)},213:function(t,e,n){var r,o;n(154),r=n(50),o=n(191),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options:t.exports).template=o)},214:function(t,e,n){var r,o;n(153),r=n(51),o=n(190),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options:t.exports).template=o)},215:function(t,e,n){var r,o;n(174),r=n(52),o=n(207),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options:t.exports).template=o)}});
//# sourceMappingURL=2.build.js.map